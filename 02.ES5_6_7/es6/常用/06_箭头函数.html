<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>06_箭头函数</title>

</head>
<body>
    <button id="btn1">测试箭头函数this_1</button>
    <button id="btn2">测试箭头函数this_2</button>


<!--
* 作用: 定义匿名函数
* 基本语法:
  * 没有参数: () => console.log('xxxx')
  * 一个参数: i => i+2
  * 大于一个参数: (i,j) => i+j
  * 函数体不用大括号: 默认返回结果
  * 函数体如果有多个语句, 需要用{}包围，若有需要返回的内容，需要手动返回
* 使用场景: 多用来定义回调函数

* 箭头函数的特点：
    1、简洁
    2、箭头函数没有自己的this，箭头函数的this不是调用的时候决定的，而是在定义的时候处在的对象就是它的this
    3、扩展理解： 箭头函数的this看外层的是否有函数，
        如果有，外层函数的this就是内部箭头函数的this，
        如果没有，则this是window。
-->
<script type="text/javascript">

 /* function fn() {

  }

  const fn1 = () => {
    console.log(this);
  }
  fn1(); //window
  console.log(fn1.prototype); // undefined
  console.log(fn1.__proto__); //Function.prototype

  const obj = {
    fn1
  };
  obj.fn1(); //window

  fn1.call(obj); //window

  // new fn1(); // fn1 is not a constructor   所有箭头函数都不能new调用

  const fn2 = function () {
    function fn3() {
      const fn4 = () => {
        console.log(this);
      }
      fn4();
    }
    fn3();
  }

  fn2(); // window
  const obj1 = {
    fn2
  }
  obj1.fn2(); // obj1*/
  /*
    箭头函数的this指向： 和包裹着箭头函数的最近的函数的this一致。
    箭头函数没有自己的this，它的this指向为离他最近的一层包裹着它的函数的this
   */

  const fn1 = () => {

  }
  const fn2 = x => {

  }
  const fn3 = (x, y) => {

  }

  //将语句的值作为函数的返回值返回
  const fn4 = x => x;
  console.log(fn4(2));

  const fn5 = x => {
    console.log(x);
    console.log(x);
    return x;
  }

 function sum(...args) {
   return args.reduce((prev, curr) => prev + curr, 0)
 }


</script>

</body>
</html>